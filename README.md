# BookKeeper
BookKeeper - консольное приложения для простого взаимодействия с базой данных SQL. Программа представляет собой базу данных книг, которая умеет добавлять данные в базу и осуществлять поиск в ней. Все взаимодействие с программой происходит через консоль с помощью заданых команд. Приложение использует базу данных PostgreSQL.

## Запуск
Для запуска понадобиться менеджер пакетов Conan (версия 1.*), cmake (версии не ниже 3.11) и PostgreSQL.

1. Убедитесь, что на вашем компьютере установлен [PostgreSQL](https://www.postgresql.org/)
2. Создайте базу данных, которую в которой вы хотите сохранять добавленные книги. Для этого подключитесь к psql и создайте новую базу данных с помощью команды `CREATE DATABASE book_keeper;`. Название может быть любым. Никакие таблицы создавать не нужно, программа автоматически это сделает при запуске.
3. Определите параметр с названием `BOOKYPEDIA_DB_URL` и укажите URI адрес базы данных. Пример: `BOOKYPEDIA_DB_URL=postgres://user:pass@host:port/dbname`
4. Собираем и запускаем программу с помощью cmake, предварительно прописав в папке build `conan install .. -s compiler.libcxx=libstdc++11 --build=missing -s build_type=Release` для платформы Linux. Собираем cmake'ом с помощью команды: `cmake -DCMAKE_BUILD_TYPE=Release ..` и создаем исполняемый файл `cmake --build .`
5. Все готово. Запускаем исполняемый файл и вводим нужные команды. Описание команд [здесь](#использование-команд)

## Использование команд
1. `AddAuthor \<name>`: добавляет нового автора с указанным именем.
2. `ShowAuthors`: выводит отсортированный по алфавиту список авторов.
3. `DeleteAuthor \<name> (optional)`: удаляет выбранного автора, его книги и связанные теги. 
4. `EditAuthor \<name> (optional)`: редактирует имя указанного автора.
5. `AddBook <pub_year> \<title>`: добавляет книгу с указанным названием и годом публикации.
6. `ShowBooks`: выводит отсортированный список книг по названию, имени автора и году публикации.
7. `ShowAuthorBooks`: выводит список книг выбранного автора с годами их выпуска, отсортированный по году публикации названию.
8. `ShowBook \<title> (optional)`: выводит подробную информацию о книге: автор, название, год публикации и теги.
9. `DeleteBook \<title> (optional)`: удаляет книгу по указанному названию.
10. `EditBook \<title> (optional)`: редактирует информацию о книге, включая название, год публикации и теги.

Обратите внимание, что некоторые параметры отмечены optional. Это означает, что команда может быть использована без предварительного введения этих параметров. Программа самостоятельно попросит ввести необходимую информацию после использования команды.

## Планы на будущее
- [ ] Создать Dockerfile для возможности запускать базу данных в контейнере
